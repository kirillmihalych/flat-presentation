<template>
  <div id="about_complex">
    <div class="p-4">
      <Carousel :slides="imgs" />
    </div>
    <div class="p-4 -mt-10 relative">
      <BlockWrapper>
        <p class="text-bold text-xl">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ñ–ö</p>
        <p class="hidden lg:block text-gray-400">{{ about }}</p>
        <div v-if="!readMoreActivated" class="lg:hidden">
          <p>{{ about.slice(0, 150) }}...</p>
          <button
            class="text-primary mt-4 flex items-center gap-2"
            @click="showMoreText"
          >
            <p>–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</p>
            <img src="../assets/arrow-down.png" alt="arrow-down-btn" />
          </button>
        </div>
        <div v-if="readMoreActivated" class="text-gray-500">
          <p>{{ about }}</p>
          <button
            class="text-primary mt-4 flex items-center gap-2"
            @click="showLessText"
          >
            <p>–°–≤–µ—Ä–Ω—É—Ç—å</p>
            <img
              src="../assets/arrow-down.png"
              class="rotate-180"
              alt="arrow-down-rotated"
            />
          </button>
        </div>
      </BlockWrapper>
    </div>
  </div>
</template>

<script setup>
import { onMounted, ref } from "vue";
import BlockWrapper from "./BlockWrapper.vue";
import Carousel from "./Carousel/Carousel.vue";
import fetchImages from "@/api/getImages";

const readMoreActivated = ref(false);
const showMoreText = () => (readMoreActivated.value = true);
const showLessText = () => (readMoreActivated.value = false);
const about = `–≠—Ç–æ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –æ—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å—é –≤
      –õ–∏–ø–µ—Ü–∫–µ!–ì–æ—Ç–æ–≤—ã–π –ª–∏–∫–≤–∏–¥–Ω—ã–π –±–∏–∑–Ω–µ—Å –ø–æ–¥ –∫–ª—é—á, –æ—Ç–ª–∏—á–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
      –ø–µ–Ω—Å–∏–∏.¬†–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å 24/7, 365 –¥–Ω–µ–π –≤ –≥–æ–¥—É –±–µ–∑
      –≤–∞—à–µ–≥–æ —É—á–∞—Å—Ç–∏—è —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ä–æ—Å—Ç–æ–º –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏.–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
      –ø–æ–∑–∞–±–æ—Ç–∏—Ç—Å—è –æ –∫–∞–∂–¥–æ–º –Ω–æ–º–µ—Ä–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≤—ã—Å–æ–∫–∏–π üìà —Å—Ç–∞–Ω–¥–∞—Ä—Ç –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è,
      —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏ –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –Ω–æ–º–µ—Ä–æ–≤: –æ—Ç —Ä–µ–∫–ª–∞–º—ã
      –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ —É–±–æ—Ä–∫–∏ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è ‚Äî –º—ã –≤—Å—ë –±–µ—Ä—ë–º –Ω–∞ —Å–µ–±—è.`;

const imgs = ref([]);

const getImages = async () => {
  try {
    imgs.value = await fetchImages();
  } catch (error) {
    console.log(error);
  }
};

onMounted(() => {
  getImages();
});
</script>

<style></style>
